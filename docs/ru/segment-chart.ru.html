<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>segment-chart.ru</title>
<style type="text/css">/*...*/</style>
</head>
<body>
<p><a href="../../readme.ru.html">Главная</a> → Круговая диаграмма</p>
<hr/><h1>SegmentChart</h1><h2>Содержание</h2>
<ol>
  <li><a href="#description">Описание объекта</a></li>
  <li><a href="#dependencies">Зависимости объекта</a></li>
  <li><a href="#constructor">Создание объекта</a></li>
  <li><a href="#examples">Примеры</a></li>
  <li><a href="#properties">Свойства</a></li>
  <li><a href="#methods">Методы</a></li>
  <li><a href="#events">События</a></li>
</ol><h2><a id="description"></a>Описание объекта</h2><p>Круговая диаграмма – графическое представление данных с помощью сегментов, позволяющее быстро оценить соотношение нескольких величин (рис. 1).</p><p><img src="../../docs/images/segment_pie_chart.png" alt="SegmentPieChart" /> <img src="../../docs/images/segment_radial_chart.png" alt="SegmentRaialChart" /> <img src="../../docs/images/segment_bar_chart.png" alt="SegmentBarChart" /><br/>рис. 1 - Круговые диаграммы типов "pie", "radial", "bar" слева направо.</p><h2><a id="dependencies"></a>Зависимости объекта</h2><p>Для создания объекта типа SegmentChart необходимо подключить следующие скрипты: </p>
<ul>
  <li>segment.js</li>
  <li>segmment-scale-sign.js</li>
  <li>segment-gradient.js</li>
  <li>utilities.js</li>
</ul><h2><a id="constructor"></a>Создание объекта</h2><p>Для создания круговой диаграммы в функцию-конструктор передаются основные параметры:</p>
<blockquote><p><em>id</em> - идентификатор диаграммы в виде текстовой строки.<br/><em>context</em> - контекст типа CanvasRenderingContext2D для отрисовки диаграммы.<br/><em>cx</em> - координата X центра диаграммы.<br/><em>cy</em> - координата Y центра диаграммы.<br/><em>r_in</em> - внутренний радиус диаграммы. При нулевом значении диаграмма строится на основе круга.<br/><em>thickness</em> - толщина диаграммы.<br/><em>init_angle</em> - начальный угол базового сегмента в градусах. По умолчанию -90 градусов.<br/><em>angle</em> - угол базового сегмента в градусах. По умолчанию 360 градусов. </p>
</blockquote><h2><a id="examples"></a>Примеры</h2><p><a href="../../examples/round-chart-examples.html" target="_blank">Примеры</a> использования различных свойств и методов объекта. </p><h2><a id="properties"></a>Свойства</h2>
<blockquote><p><em>type</em> - тип диаграммы. Допустимые значения для параметра: </p>
  <blockquote><p><em>"pie"</em> - пирог.<br/><em>"radial"</em> - радиальная.<br/><em>"bar"</em> - гистограмма. </p>
  </blockquote><p><em>source</em> - источник даннных диаграммы. Источник данных задается в виде массива, объектами которого являются массивы данных: </p>
  <blockquote><p>[название, значение, цвет]. </p>
  </blockquote><p><em>data</em> - массив значений, полученных из источника данных. </p><p><em>min_value</em> - минимальное значение ряда данных.<br/><em>max_value</em> - максимальное значение ряда данных.<br/><em>total</em> - суммарное значение ряда данных. </p><p><em>sign_r_in</em> - внутренний радиус подписей.<br/><em>sign_r_offset</em> - радиальное смещение подписей.<br/><em>font</em> - шрифт подписей.<br/><em>text_color</em> - цвет текста подписей.<br/><em>text_border_width</em> - толщина границы текста подписей.<br/><em>text_border_color</em> - цвет границы текста подписей.<br/><em>text_direction</em> - направление текста подписей. Допустимые значения параметра: </p>
  <blockquote><p><em>"vertical"</em> - вертикально относительно холста.<br/><em>"clockwise"</em> - по часовой стрелке.<br/><em>"anticlockwise"</em> - против часовой стрелки.<br/><em>"from-center"</em> - от центра.<br/><em>"to-center"</em> - к центру. </p>
  </blockquote>
</blockquote><h3>Стиль оформления базового сегмента</h3>
<blockquote><p><em>gradient</em> - градиент заливки типа <a href="segment-gradient.ru.html">SegmentGradient</a>.<br/><em>background</em> - цвет заливки базового сегмента (применяется, если не задан градиент заливки).<br/><em>border_width</em> - толщина границ базового сегмента.<br/><em>border_color</em> - цвет границ базового сегмента. </p>
</blockquote><p>Границы базового сегмента могут быть заданы отдельно при прямом доступе к нему через свойство <em>base_segment</em>.</p><h3>Параметры элементов массива</h3>
<blockquote><p><em>segments_count</em> - количество сегментов-элементов массива.<br/><em>segment_angle</em> - угол сегмента массива (игнорируется, если установлен флаг пропорциональности).<br/><em>segment_thickness</em> - толщина сегмента массива.<br/><em>segment_position</em> - позиция сегментов массива. Допустимые значения параметра: </p>
  <blockquote><p><em>"inner"</em> - примыкание к внутренней границе базового сегмента.<br/><em>"middle"</em> - расположение по середине базового сегмента.<br/><em>"outer"</em> - примыкание к внешней границе базового сегмента. </p>
  </blockquote><p><em>segment_r_in</em> - внутренний радиус сегмента массива. Игнорируется, если задано свойство <em>segment_position</em>.<br/><em>start_with</em> - начать размещение объектов на базовом сегменте массива с сегмента или с пустого пространства. Допустимые значения параметра: </p>
  <blockquote><p><em>"segment"</em> - начать с сегмента.<br/><em>"space"</em> - начать с пустого пространства. </p>
  </blockquote><p><em>space_angle</em> - угол пространства между сегментами.<br/><em>space_thickness</em> - толщина пространства между сегментами. </p>
</blockquote><h3>Стиль оформления элементов массива</h3>
<blockquote><p><em>segment_gradient</em> - градиент заливки сегментов массива. Значение типа <a href="segment-gradient.ru.html">SegmentGradient</a>.<br/><em>segment_background</em> - цвет заливки сегментов массива (применяется, если не задан градиент заливки).<br/><em>segment_border_width</em> - толщина границ сегментов массива.<br/><em>segment_border_color</em> - цвет границ сегментов массива. </p>
</blockquote><h3>Флаги массива</h3>
<blockquote><p><em>proportional</em> - пропорциональность. Значение <em>true</em> обеспечивает одинаковые углы для элементов массива и расстояний между ними.<br/><em>full_thickness</em> - полная толщина. Значение <em>true</em> обеспечивает одинаковую толщину элемента массива и базового сегмента.<br/><em>visible</em> - видимость. Значение <em>true</em> обеспечивает видимость объекта.<br/><em>segments_visible</em> - видимость сегментов. Значение <em>true</em> обеспечивает видимость элементо вмассива.<br/><em>signs_visible</em> - видимость легенды.<br/><em>in_progress</em> - в процессе. Флаг принимает значение <em>true</em> в процессе анимации.</p>
</blockquote><h2><a id="methods"></a>Методы</h2>
<blockquote><p><em>build()</em> - выполняет основные вычисления формы и внешнего вида диаграммы с учетом заданных свойств и флагов. </p><p><em>draw()</em> - функция отрисовки объекта. </p><p><em>instanceCopy()</em> - создание независимой копии объекта. </p>
</blockquote><h2><a id="events"></a> События</h2><p>События, запускаемые объектом SegmentChart, реализованы с помощью CustomEvent.<br/>В параметре <em>detail.chart</em> передается ссылка на сам объект.</p>
<blockquote><p><em>segment-chart-changed</em> - объект изменен. Событие запускается, если изменен один из элементов массива или базовый сегмент. </p><p><em>segment-chart-appeared</em> - все сегменты диаграммы появились.<br/><em>segment-chart-disappeared</em> - все сегменты диаграммы исчезли.<br/><em>segment-chart-faded-in</em> - все сегменты диаграммы появились методом выцветания.<br/><em>segment-chart-faded-out</em> - все сегменты диаграммы исчезли методом выцветания. </p>
</blockquote>
<hr/><p><a href="../../readme.ru.html">Главная</a> → Круговая диаграмма </p>
</body>
</html>