<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>segment-spiral.ru</title>
<style type="text/css">/*...*/</style>
</head>
<body>
<p><a href="../../readme.ru.html">Главная</a> → Сегментная спираль </p>
<hr/><h1>SegmentSpiral</h1><h2>Содержание</h2>
<ol>
  <li><a href="#description">Описание объекта</a></li>
  <li><a href="#dependencies">Зависимости объекта</a></li>
  <li><a href="#constructor">Создание объекта</a></li>
  <li><a href="#examples">Примеры</a></li>
  <li><a href="#properties">Свойства</a></li>
  <li><a href="#methods">Методы</a></li>
  <li><a href="#events">События</a></li>
</ol><h2><a id="description"></a>Описание объекта</h2><p>Сегментная спираль – часть сегмента кольца, ограниченная окружностью и частью спирали, имеющими общий центр, а также лучом, исходящим из этого центра (рис. 1).</p><p><img src="../../docs/images/segment_spiral_geometry.png" alt="SegmentSpiralGeometry" /><br/>Рис. 1 - Геометрия сегментной спирали</p><p>C - центр сегментной спирали - это центр базового сегмента.<br/>R1 - радиус меньшей окружности.<br/>R2 - радиус большей окружности.<br/>CA - луч, ограничивающий базовый сегмент и определяющий его начало.<br/>CB - луч, ограничивающий базовый сегмент и определяющий его конец.<br/>T - толщина базового сегмента, равная разнице между R2 и R1.<br/>α - начальный угол базового сегмента - это угол между горизонтальной осью X и лучом CA.<br/>β - угол сегмент - это угол между лучами CA и CB. </p><h2><a id="dependencies"></a>Зависимости объекта</h2><p>Для создания объекта типа SegmentSpiral необходимо подключить следующие скрипты: </p>
<ul>
  <li>segment-gradient.js</li>
  <li>utilities.js</li>
</ul><h2><a id="constructor"></a>Создание объекта</h2><p>Для создания объекта в функцию-конструктор передаются основные параметры: </p>
<blockquote><p><em>id</em> - идентификатор сегментной спирали в виде текстовой строки.<br/><em>context</em> - контекст типа CanvasRenderingContext2D для отрисовки сегментной спирали.<br/><em>cx</em> - координата X центра базового сегмента.<br/><em>cy</em> - координата Y центра базового сегмента.<br/><em>r_in</em> - внутренний радиус базового сегмента.<br/><em>thickness</em> - толщина базового сегмента.<br/><em>init_angle</em> - начальный угол базового сегмента в градусах. Может принимать отрицательные значения. <em>angle</em> - угол базового сегмента в градусах.</p>
</blockquote><p>Внешний радиус сегмента <em>r_out</em> будет рассчитан автоматически в процессе создания объекта.</p><h2><a id="examples"></a>Примеры</h2><p><a href="../../examples/segment-spiral-examples.html" target="_blank">Примеры</a> использования различных свойств и методов объекта. </p><h2><a id="properties"></a>Свойства</h2><h3>Параметры фигуры</h3>
<blockquote><p><em>position</em> - позиция фигуры в базовом сегменте относительно спиральной стороны. </p><p>Допустимые значения позиции фигуры:</p>
  <blockquote><p><em>"inner"</em> - внутри. Примыкание к внутренней границе базового сегмента.<br/><em>"outer"</em> - снаружи. Примыкание к внешней границе базового сегмента. </p>
  </blockquote><p><em>direction</em> - направление увеличения толщины фигуры. </p><p>Допустимые значения направления фигуры: </p>
  <blockquote><p><em>"clockwise"</em> - по часовой стрелке.<br/><em>"anticlockwise"</em> - против часовой стрелки.</p>
  </blockquote>
</blockquote><h3>Стиль оформления сегмента</h3>
<blockquote><p><em>gradient</em> - градиент заливки типа <a href="segment-gradient.ru.html">SegmentGradient</a>.</p><p>Допустимые значения направления для линейного градиента: </p>
  <blockquote><p><em>"from-center"</em> - из центра.<br/><em>"to-center"</em> - к центру.<br/><em>"from-opening"</em> - от открывающей границы к закрыващей вдоль хорды окружности.<br/><em>"from-closing"</em> - от закрывающей границы к открывающей вдоль хорды окружности. </p>
  </blockquote><p>Допустимые значения направления для радиального градиента: </p>
  <blockquote><p><em>"from-center"</em> - из центра.<br/><em>"to-center"</em> - к центру. </p>
  </blockquote><p>Допустимые значения направления для конического градиента:</p>
  <blockquote><p><em>"clockwise"</em> - по часовой стрелке. <em>"anticlockwise"</em> - против часовой стрелки. </p>
  </blockquote><p><em>background</em> - цвет заливки (применяется, если не задан градиент заливки).<br/><em>border_width</em> - толщина границ сегментной спирали.<br/><em>border_color</em> - цвет границ сегментной спирали.</p>
</blockquote><p>Границы сегментной спирали могут быть заданы отдельно. </p><p>Типы границ сегментной спирали:</p><p>A) Открывающая граница (Opening Border) – открывающая граница базового сегмента. Применима для сегментной спирали с направлением увеличения толщины фигуры против часовой стрелки Anticlockwise. </p>
<blockquote><p><em>border_opening_width</em> - ширина открывающей границы.<br/><em>border_opening_color</em> - цвет открывающей границы. </p>
</blockquote><p>B) Внешняя граница (Outer Border) – дуга базового сегмента с большим радиусом. Применима для сегментной спирали с позицией фигуры Outer. </p>
<blockquote><p><em>border_outer_width</em> - ширина внешней границы.<br/><em>border_outer_color</em> - цвет внешней границы. </p>
</blockquote><p>C) Внутренняя граница (Inner Border) – дуга базового сегмента с меньшим радиусом. Применима для сегментной спирали с позицией фигуры Inner. </p>
<blockquote><p><em>border_inner_width</em> - ширина внутренней границы.<br/><em>border_inner_color</em> - цвет внутренней границы. </p>
</blockquote><p>D) Закрывающая граница (Closing Border) – закрывающая граница базового сегмента. Применима для сегментной спирали с направлением увеличения толщины фигуры по часовой стрелке Clockwise. </p>
<blockquote><p><em>border_closing_width</em> - ширина закрывающей границы.<br/><em>border_closing_color</em> - цвет закрывающей границы. </p>
</blockquote><p>E) Спиральная граница (Spiral Border) – сторона фигуры, построенная по уравнению спирали. </p>
<blockquote><p><em>border_spiral_width</em> - ширина спиральной границы.<br/><em>border_spiral_color</em> - цвет спиральной границы. </p>
</blockquote><p>Если задана отдельная граница сегмента, то для ее отрисовки будет применяться указанный стиль: ширина и/или цвет.<br/>Если отдельная граница не задана, то для ее отрисовки будет применяться общий стиль границ сегментной спирали. </p><h3>Флаги сегмента</h3>
<blockquote><p><em>visible</em> - видимость. Значение <em>true</em> обеспечивает видимость объекта.<br/><em>in_progress</em> - в процессе. Флаг принимает значение <em>true</em> в процессе анимации. </p>
</blockquote><h2><a id="methods"></a>Методы</h2>
<blockquote><p><em>calc()</em> - выполняет основные вычисления формы и внешнего вида сегментной спирали при ее создании, изменении параметров и в процессе анимации.<br/>Этот метод необходимо вызывать после изменения свойств объекта, чтобы они вступили в силу. </p><p><em>calcBorder()</em> - определяет стили границ сегментной спирали. Вызывается автоматически из метода <em>calc()</em>. </p><p><em>draw()</em> - функция отрисовки объекта. </p><p><em>instanceCopy()</em> - создание независимой копии объекта.</p>
</blockquote><h3>Анимация сегмента</h3><p>Анимация сегментной спирали - это различные изменения формы, положения или стиля оформления фигуры со временем.</p><p>Основные параметры анимации:</p>
<blockquote><p><em>duration</em> - длительность анимации. Задается в секундах.<br/><em>delay</em> - задержка перед началом анимации. Задается в секундах.<br/><em>direction</em> - направление анимации. Набор допустимых значений зависит от вида анимации. </p>
</blockquote><h4>Методы анимации</h4>
<blockquote><p><em>appear(direction, duration, delay)</em> - появление сегментной спирали за счет постепенного изменения формы. </p><p>Допустимые значения параметра <em>direction</em> для метода анимации появления: </p>
  <blockquote><p><em>"from-center"</em> - из центра. Доступно, если позиция фигуры - <em>inner</em>.<br/><em>"to-center"</em> - к центру. Доступно, если позиция фигуры - <em>outer</em>.<br/><em>"clockwise"</em> - по часовой стрелке. Доступно, если направление фигуры - <em>clockwise</em>.<br/><em>"anticlockwise"</em> - против часовой стрелки. Доступно, если направление фигуры - <em>anticlockwise</em>. </p>
  </blockquote><p><em>disappear(direction, duration, delay)</em> - исчезание сегмента за счет постепенного изменения формы. </p><p>Допустимые значения параметра <em>direction</em> для метода анимации исчезания: </p>
  <blockquote><p><em>"from-center"</em> - из центра. Доступно, если позиция фигуры - <em>outer</em>.<br/><em>"to-center"</em> - к центру. Доступно, если позиция фигуры - <em>inner</em>.<br/><em>"clockwise"</em> - по часовой стрелке. Доступно, если направление фигуры - <em>anticlockwise</em>.<br/><em>"anticlockwise"</em> - против часовой стрелки. Доступно, если направление фигуры - <em>clockwise</em>. </p>
  </blockquote><p><em>rotate(direction, angle, duration, delay)</em> - поворот сегментной спирали на угол <em>angle</em> в течение <em>duration</em> секунд. </p><p>Угол поворота <em>angle</em> задается в градусах. </p><p>Допустимые значения параметра <em>direction</em> для метода анимации вращения: </p>
  <blockquote><p><em>"clockwise"</em> - по часовой стрелке.<br/><em>"anticlockwise"</em> - против часовой стрелки. </p>
  </blockquote><p><em>fadeIn(duration, delay)</em> - постепенное появление сегментной спирали за счет изменения прозрачности. </p><p><em>fadeOut(duration, delay)</em> - постепенное исчезание сегментной спирали за счет изменения прозрачности. </p>
</blockquote><h2><a id="events"></a> События</h2><p>События, запускаемые объектом SegmentSpiral, реализованы с помощью CustomEvent.<br/>В поле <em>detail.spiral</em> передается ссылка на сам объект. </p>
<blockquote><p><em>segment-spiral-changed</em> - сегментная спираль изменена. Событие запускается каждый раз, когда выполняется метод calc(). </p><p><em>segment-spiral-appeared</em> - сегментная спираль появилась.<br/><em>segment-spiral-disappeared</em> - сегментная спираль исчезла.<br/><em>segment-spiral-rotated</em> - сегментная спираль повернута.<br/><em>segment-spiral-faded-in</em> - сегментная спираль появилась методом выцветания.<br/><em>segment-spiral-faded-out</em> - сегментная спираль исчезла методом выцветания. </p>
</blockquote>
<hr/><p><a href="../../readme.ru.html">Главная</a> → Сегментная спираль </p>
</body>
</html>