<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>segment-arrow.ru</title>
<style type="text/css">/*...*/</style>
</head>
<body>
<p><a href="../../readme.ru.html">Главная</a> → Стрекла </p>
<hr/><h1>SegmentArrow</h1><h2>Содержание</h2>
<ol>
  <li><a href="#description">Описание объекта</a></li>
  <li><a href="#dependencies">Зависимости объекта</a></li>
  <li><a href="#constructor">Создание объекта</a></li>
  <li><a href="#examples">Примеры</a></li>
  <li><a href="#properties">Свойства</a></li>
  <li><a href="#methods">Методы</a></li>
  <li><a href="#events">События</a></li>
</ol><h2><a id="description"></a>Описание объекта</h2><p>Стрелка – вспомогательный графический объект для реализации "<a href="segment-gauge.ru.html">Измерительного прибора</a>". </p><p><img src="../../docs/images/segment_arrow.png" alt="SegmentArrow" /><br/>Рис. 1 - Стрелка</p><p>C - опорная точка стрелки - это центр окружности вращения стрелки.<br/>R - радиус окружности.<br/>α - угол стрелки. </p><p>Стрелка имеет длину и ширину (рис. 2).</p><p>L - длина изображения стрелки.<br/>W - ширина изображения стрелки. </p><p><img src="../../docs/images/segment_arrow_geometry.png" alt="SegmentArrowGeometry" /><br/>Рис. 2 - Геометрия стрелки </p><h2><a id="dependencies"></a>Зависимости объекта</h2><p>Для создания объекта типа SegmentArrow необходимо подключить следующие скрипты: </p>
<ul>
  <li>utilities.js</li>
</ul><h2><a id="constructor"></a>Создание объекта</h2><p>Для создания объекта в функцию-конструктор передаются основные параметры: </p>
<blockquote><p><em>id</em> - идентификатор стрелки в виде текстовой строки.<br/><em>context</em> - контекст типа CanvasRenderingContext2D для отрисовки стрелки.<br/><em>cx</em> - координата X центра базовой окружности.<br/><em>cy</em> - координата Y центра базовой окружности.<br/><em>width</em> - ширина стрелки.<br/><em>length</em> - длина стрелки.<br/><em>angle</em> - угол отклонения стрелки от горизонтальной оси в градусах. </p>
</blockquote><h2><a id="examples"></a>Примеры</h2><p><a href="../../examples/round-gauge-examples.html" target="_blank">Примеры</a> использования различных свойств и методов объекта. </p><h2><a id="properties"></a>Свойства</h2><h3>Стиль оформления стрелки</h3>
<blockquote><p><em>img</em> - изображение, которым представлена стрелка. <em>img_src</em> - путь к изображению стрелки.<br/><em>img_angle</em> - угол отклонения изображения от горизонтальной оси в градусах. Например, если стрелка на изображении направлена вертикально вверх, то следует задать значение угла -90°.<br/><em>img_offset_x</em> - смещение изображения по оси X для приведения опорной точки стрелки в центр окружности вращения.<br/><em>img_offset_y</em> - смещение изображения по оси Y для приведения опорной точки стрелки в центр окружности вращения. </p>
</blockquote><h3>Флаги стрелки</h3>
<blockquote><p><em>visible</em> - видимость. Значение <em>true</em> обеспечивает видимость объекта.<br/><em>in_progress</em> - в процессе. Флаг принимает значение <em>true</em> в процессе анимации. </p>
</blockquote><h2><a id="methods"></a>Методы</h2>
<blockquote><p><em>calc()</em> - выполняет основные вычисления формы и внешнего вида стрелки при ее создании, изменении параметров и в процессе анимации.<br/>Этот метод необходимо вызывать после изменения свойств объекта, чтобы они вступили в силу. </p><p><em>setImgSrc(path)</em> - выполняет установку пути к изображнеию стрелки и привязывает метод calc() к событию загрузки изображения. </p><p><em>draw()</em> - функция отрисовки стрелки. </p><p><em>instanceCopy()</em> - создание независимой копии объекта. </p>
</blockquote>
<hr/><p><a href="../../readme.ru.html">Главная</a> → Стрелка </p>
</body>
</html>