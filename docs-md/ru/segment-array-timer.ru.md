<a href="../../readme.ru.html">Главная</a> → Таймер с индиктором прогресса в виде сегментного массива  

***

# SegmentArrayTimer

## Содержание
1. [Описание объекта](#description)  
2. [Зависимости объекта](#dependencies)  
3. [Создание объекта](#constructor)  
4. [Примеры] (#examples)  
5. [Свойства](#properties)  
6. [Методы](#methods)  
7. [События](#events)  

##<a id="description"></a>Описание объекта

Таймер – элемент управления, выдающий определённый сигнал через заданный промежуток времени (рис. 1).

![SegmentArrayTimer](../../docs/images/segment_array_timer.png)  
Рис. 1 - Таймер с индиктором прогресса в виде сегментного массива  

##<a id="dependencies"></a>Зависимости объекта  
Объект SegmentArrayTimer наследуется от объекта SegmentArrayProgressBar.  
Для создания объекта типа SegmentArrayTimer необходимо подключить следующие скрипты:  

* segment.js  
* segment-array-progress-bar.js  
* segment-gradient.js  
* utilities.js  

##<a id="constructor"></a>Создание объекта  
Для создания объекта в функцию-конструктор передаются основные параметры:   
>
*id* - идентификатор таймера в виде текстовой строки.  
*context* - контекст типа CanvasRenderingContext2D для отрисовки таймера.  
*cx* - координата X центра базового сегмента таймера.  
*cy* - координата Y центра базового сегмента таймера.  
*r_in* - внутренний радиус базового сегмента таймера.  
*thickness* - толщина базового сегмента таймера.  
*init_angle* - начальный угол базового сегмента таймера в градусах. Может принимать отрицательные значения. 
*angle* - угол базового сегмента таймера в градусах.

Внешний радиус базового сегмента таймера *r_out* будет рассчитан автоматически в процессе создания объекта.

##<a id="examples"></a>Примеры  
<a href="../../examples/round-timer-examples.html" target="_blank">Примеры</a> использования различных свойств и методов объекта.  

##<a id="properties"></a>Свойства
Объект SegmentArrayTimer наследует свойства объекта SegmentArrayProgressBar и обладает собственнными свойствами:  
>
*on_pause_text* - текстовая надпись в режиме паузы.  
*on_pause_font* - шрифт текста в режиме паузы.  

### Флаги объекта
Объект SegmentArrayTimer наследует флаги объекта SegmentArrayProgressBar и обладает собственнными флагами:  
>
*on_pause* - режим паузы. Значение *true* передается для установки режима паузы, значение *false* - для снятия режима паузы.  

##<a id="methods"></a>Методы

> *build()* - выполняет основные вычисления формы и внешнего вида объекта с учетом заданных свойств и флагов.
Этот метод необходимо вызывать после изменения свойств объекта, чтобы они вступили в силу.  

> *draw()* - функция отрисовки таймера.  

> *instanceCopy()* - создание независимой копии объекта.  

> *countdown(new_value, value, delay)* - функция обратного отсчета от значения *value* до значения *new_value* с задержкой *delay*.  

> *start()* - запуск таймера для начала обратного отсчета или продолжения отсчета после паузы.  

> *pause()* - установка режима паузы.  

> *stop()* - остановка и сброс таймера.  

##<a id="events"></a> События

События, запускаемые объектом SegmentArrayTimer, реализованы с помощью CustomEvent.  
В поле *detail.timer* передается ссылка на сам объект.  

> *segment-array-timer-changed* - состояние объекта изменено.  
> *segment-array-timer-is-up* - сигнал о завершении указанного периода времени.  

***

<a href="../../readme.ru.html">Главная</a> → Таймер с индиктором прогресса в виде сегментного массива 
