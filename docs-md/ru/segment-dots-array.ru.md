<a href="../../readme.ru.html">Главная</a> → Сегментный массив точек

***

# SegmentDotsArray

## Содержание
1. [Описание объекта](#description)  
2. [Зависимости объекта](#dependencies)  
3. [Создание объекта](#constructor)  
4. [Примеры] (#examples)  
5. [Свойства](#properties)  
6. [Методы](#methods)  
7. [События](#events)  

##<a id="description"></a>Описание объекта

Сегментный массив точек – это массив <a href="segment-dot.ru.html">точек</a>, расположенных внутри базового сегмента по дуге окружности на одинаковом расстоянии друг от друга (рис. 1).

![SegmentDotsArrayGeometry](../../docs/images/segment_dots_array_geometry.png)  
рис. 1 - Геометрия массива точек.

R - радиус базовой окружности, на которой располагаются центры точек массива.  
α - угол сегмента, ограничивающего точку.  
β - угол между точками массива.  
c - центр точки.  
r - радиус точки.  

##<a id="dependencies"></a>Зависимости объекта  
Для создания объекта типа SegmentDotsArray необходимо подключить следующие скрипты:  

* segment.js  
* segment-dot.js  
* segment-gradient.js  
* utilities.js  

##<a id="constructor"></a>Создание объекта  
Для создания массива точек в функцию-конструктор передаются основные параметры, которые используются для создания базового, или опорного, сегмента:
>
*id* - идентификатор массива точек в виде текстовой строки.  
*context* - контекст типа CanvasRenderingContext2D для отрисовки сегмента.  
*cx* - координата X центра базового сегмента.  
*cy* - координата Y центра базового сегмента.  
*r_in* - внутренний радиус базового сегмента.  
*thickness* - толщина базового сегмента.  
*init_angle* - начальный угол базового сегмента в градусах. Может принимать отрицательные значения. 
*angle* - угол базового сегмента в градусах.

##<a id="examples"></a>Примеры  
<a href="../../examples/segment-dots-array-examples.html" target="_blank">Примеры</a> использования различных свойств и методов объекта.  

##<a id="properties"></a>Свойства

### Стиль оформления базового сегмента  
>
*gradient* - градиент заливки типа <a href="segment-gradient.ru.html">SegmentGradient</a>.   
*background* - цвет заливки базового сегмента (применяется, если не задан градиент заливки).  
*border_width* - толщина границ базового сегмента.  
*border_color* - цвет границ базового сегмента.  

Границы базового сегмента могут быть заданы отдельно при прямом доступе к нему через свойство *base_segment*.

### Параметры элементов массива  
>
*dots_count* - количество точек-элементов массива.  
*dot_angle* - угол сегмента, ограничивающего точку массива (игнорируется, если установлен флаг пропорциональности).  
*dot_radius* - радиус точки массива.  
*base_radius* - радиус базовой окружности.  
*start_with* - начать размещение объектов на базовом сегменте массива с точки или с пустого пространства. Допустимые значения параметра:  
>> _"dot"_ - начать с точки.  
>> _"space"_ - начать с пустого пространства.  

### Стиль оформления элементов массива
> *dot_gradient* - градиент заливки точек массива. Значение типа <a href="segment-gradient.ru.html">SegmentGradient</a>.  
> *dot_background* - цвет заливки точек массива (применяется, если не задан градиент заливки).  
> *dot_border_width* - толщина границ точек массива.  
> *dot_border_color* - цвет границ точек массива.  

### Флаги массива
>
*proportional* - пропорциональность. Значение *true* обеспечивает одинаковые углы для элементов массива и расстояний между ними.  
*full_thickness* - полная толщина. Значение *true* обеспечивает одинаковую толщину элемента массива и базового сегмента.  
*visible* - видимость. Значение *true* обеспечивает видимость объекта.  
*dots_visible* - видимость точек массива.
*in_progress* - в процессе. Флаг принимает значение *true* в процессе анимации.  

##<a id="methods"></a>Методы

> *build()* - выполняет основные вычисления формы и внешнего вида базового сегмента и элементов массива с учетом заданных свойств и флагов.

> *draw()* - функция отрисовки объекта.  

> *instanceCopy()* - создание независимой копии объекта.  

### Анимация массива точек

Анимация сегментного массива точек - это различные изменения формы, положения или стиля оформления точек массива со временем.

Основные параметры анимации:
> *duration* - длительность анимации. Задается в секундах.  
> *delay* - задержка перед началом анимации. Задается в секундах.  
> *direction* - направление анимации. Набор допустимых значений зависит от вида анимации.  
> *order* - порядок анимации. Допустимые значения:  
>> _"together"_ - вместе.
>> _"one-by-one-clockwise"_ - один за другим по часовой стрелке.  
>> _"one-by-one-anticlockwise"_ - один за другим против часовой стрелки.  
>> Для поочередной анимации длительность *duration* будет разделена равномерно между элементами массива с учетом задержки между анимацией элементов.

> *lag* - задержка между анимацией элементов массива. Задается в секундах.  

#### Методы анимации

> *appear(order, lag, direction, duration, delay)* - появление элементов массива за счет постепенного изменения их формы.  
>> Параметр *direction* может принимать значения, допустимые для аналогичного метода объекта <a href="segment-dot.ru.html">SegmentDot</a>.  
Если все сегменты массива появились, то запускается событие *segment-dots-array-appeared*.

> *disappear(direction, duration, delay)* - исчезание элементов массива за счет постепенного изменения их формы.  
>> Параметр *direction* может принимать значения, допустимые для аналогичного метода объекта <a href="segment-dot.ru.html">SegmentDot</a>.  
Если все сегменты массива исчезли, то запускается событие *segment-dots-array-disappeared*.

> *fadeIn(order, lag, duration, delay)* - появление точек массива за счет постепенного изменения их прозрачности.  
>> Если все точки массива выцвели, то запускается событие *segment-dots-array-faded-in*.  

> *fadeOut(order, lag, duration, delay)* - исчезание точек массива за счет постепенного изменения их прозрачности.
>> Если все точки массива выцвели, то запускается событие *segment-dots-array-faded-out*.  

##<a id="events"></a> События

События, запускаемые объектом SegmentDotsArray, реализованы с помощью CustomEvent.  
В параметре *detail.array* передается ссылка на сам объект.

> *segment-dots-array-changed* - объект изменен. Событие запускается, если изменен один из элементов массива или базовый сегмент.  

> *segment-dots-array-appeared* - все точки массива появились.  
> *segment-dots-array-disappeared* - все точки массива исчезли.  
> *segment-dots-array-faded-in* - все точки массива появились методом выцветания.  
> *segment_dots_array_faded_out* - все точки массива исчезли методом выцветания.  

***

<a href="../../readme.ru.html">Главная</a> → Сегментный массив точек  