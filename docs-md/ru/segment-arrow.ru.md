<a href="../../readme.ru.html">Главная</a> → Стрекла  

***

# SegmentArrow

## Содержание
1. [Описание объекта](#description)  
2. [Зависимости объекта](#dependencies)  
3. [Создание объекта](#constructor)  
4. [Примеры] (#examples)  
5. [Свойства](#properties)  
6. [Методы](#methods)  
7. [События](#events)  

##<a id="description"></a>Описание объекта

Стрелка – вспомогательный графический объект для реализации "<a href="segment-gauge.ru.html">Измерительного прибора</a>".  

![SegmentArrow](../../docs/images/segment_arrow.png)  
Рис. 1 - Стрелка

C - опорная точка стрелки - это центр окружности вращения стрелки.  
R - радиус окружности.  
α - угол стрелки.  

Стрелка имеет длину и ширину (рис. 2).

L - длина изображения стрелки.  
W - ширина изображения стрелки.  

![SegmentArrowGeometry](../../docs/images/segment_arrow_geometry.png)  
Рис. 2 - Геометрия стрелки  

##<a id="dependencies"></a>Зависимости объекта  
Для создания объекта типа SegmentArrow необходимо подключить следующие скрипты:  

* utilities.js  

##<a id="constructor"></a>Создание объекта  
Для создания объекта в функцию-конструктор передаются основные параметры:   
>
*id* - идентификатор стрелки в виде текстовой строки.  
*context* - контекст типа CanvasRenderingContext2D для отрисовки стрелки.  
*cx* - координата X центра базовой окружности.  
*cy* - координата Y центра базовой окружности.  
*width* - ширина стрелки.  
*length* - длина стрелки.  
*angle* - угол отклонения стрелки от горизонтальной оси в градусах.  

##<a id="examples"></a>Примеры  
<a href="../../examples/round-gauge-examples.html" target="_blank">Примеры</a> использования различных свойств и методов объекта.  

##<a id="properties"></a>Свойства

### Стиль оформления стрелки  
>
*img* - изображение, которым представлена стрелка.
*img_src* - путь к изображению стрелки.  
*img_angle* - угол отклонения изображения от горизонтальной оси в градусах. Например, если стрелка на изображении направлена вертикально вверх, то следует задать значение угла -90°.  
*img_offset_x* - смещение изображения по оси X для приведения опорной точки стрелки в центр окружности вращения.  
*img_offset_y* - смещение изображения по оси Y для приведения опорной точки стрелки в центр окружности вращения.  

### Флаги стрелки
>
*visible* - видимость. Значение *true* обеспечивает видимость объекта.  
*in_progress* - в процессе. Флаг принимает значение *true* в процессе анимации.  

##<a id="methods"></a>Методы

> *calc()* - выполняет основные вычисления формы и внешнего вида стрелки при ее создании, изменении параметров и в процессе анимации.  
Этот метод необходимо вызывать после изменения свойств объекта, чтобы они вступили в силу.  

> *setImgSrc(path)* - выполняет установку пути к изображнеию стрелки и привязывает метод calc() к событию загрузки изображения.  

> *draw()* - функция отрисовки стрелки.  

> *instanceCopy()* - создание независимой копии объекта.  

***

<a href="../../readme.ru.html">Главная</a> → Стрелка 