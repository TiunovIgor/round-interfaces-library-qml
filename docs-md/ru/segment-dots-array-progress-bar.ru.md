<a href="../../readme.ru.html">Главная</a> → Индикатор прогресса в виде сегментного массива точек

***

# SegmentDotsArrayProgressBar

## Содержание
1. [Описание объекта](#description)  
2. [Зависимости объекта](#dependencies)  
3. [Создание объекта](#constructor)  
4. [Примеры] (#examples)  
5. [Свойства](#properties)  
6. [Методы](#methods)  
7. [События](#events)  

##<a id="description"></a>Описание объекта

Индикатор прогресса – графический элемент для визуализации степени завершенности какого-либо процесса (рис. 1).

![SegmentDotsArrayProgressBar](../../docs/images/segment_dots_array_progress_bar.png)  
Рис. 1 - Индикатор прогресса в виде сегментного массива точек

##<a id="dependencies"></a>Зависимости объекта  
Для создания объекта типа SegmentDotsArrayProgressBar необходимо подключить следующие скрипты:  

* segment.js  
* segment-dot.js  
* segment-gradient.js  
* utilities.js  

##<a id="constructor"></a>Создание объекта  
Для создания объекта в функцию-конструктор передаются основные параметры:   
>
*id* - идентификатор индикатора прогресса в виде текстовой строки.  
*context* - контекст типа CanvasRenderingContext2D для отрисовки индикатора прогресса.  
*cx* - координата X центра базового сегмента.  
*cy* - координата Y центра базового сегмента.  
*r_in* - внутренний радиус базового сегмента.  
*thickness* - толщина базового сегмента.  
*init_angle* - начальный угол базового сегмента в градусах. Может принимать отрицательные значения. 
*angle* - угол базового сегмента в градусах.

Внешний радиус базового сегмента *r_out* будет рассчитан автоматически в процессе создания объекта.

##<a id="examples"></a>Примеры  
<a href="../../examples/round-progress-bar-examples.html" target="_blank">Примеры</a> использования различных свойств и методов объекта.  

##<a id="properties"></a>Свойства
>
*min_value* - минимальное значение показателя прогресса.  
*max_value* - максимальное значение показателя прогресса.  
*value* - текущее значение показателя прогресса.  
*speed* - скорость изменения показателя прогресса при его программном изменении.  

*active_index* - индекс последнего активного сегмента индикатора прогресса.  

Индикатор прогресса в виде сегментного массива - это составной объект. В его состав входят:  
>
*base_segment* - базовый сегмент.  
*dots* - массив точек, визуализирующий прогресс.  

### Стиль оформления базового сегмента  
>
*gradient* - градиент заливки типа <a href="segment-gradient.ru.html">SegmentGradient</a>.   
*background* - цвет заливки базового сегмента (применяется, если не задан градиент заливки).  
*border_width* - толщина границ базового сегмента.  
*border_color* - цвет границ базового сегмента.  

Границы базового сегмента могут быть заданы отдельно при прямом доступе к нему через свойство *base_segment*.

### Параметры сегментов массива точек  
>
*dots_count* - количество точек-элементов массива.  
*dot_angle* - угол сегмента, ограничивающего точку массива (игнорируется, если установлен флаг пропорциональности).  
*dot_radius* - радиус точки массива.  
*base_radius* - радиус базовой окружности.  
*start_with* - начать размещение объектов на базовом сегменте массива с точки или с пустого пространства. Допустимые значения параметра:  
>> _"dot"_ - начать с точки.  
>> _"space"_ - начать с пустого пространства.  

### Стиль оформления точек массива  
> *dot_gradient* - градиент заливки точек массива. Значение типа <a href="segment-gradient.ru.html">SegmentGradient</a>.  
> *dot_background* - цвет заливки точек массива (применяется, если не задан градиент заливки).  
> *dot_border_width* - толщина границ точек массива.  
> *dot_border_color* - цвет границ точек массива.  

### Стиль оформления активных точек массива  
> *active_dot_gradient* - градиент заливки активных точек массива. Значение типа <a href="segment-gradient.ru.html">SegmentGradient</a>.  
> *active_dot_background* - цвет заливки активных точек массива (применяется, если не задан градиент заливки).  
> *active_dot_border_width* - толщина границ активных точек массива.  
> *active_dot_border_color* - цвет границ активных точек массива.  

### Стиль оформления текстового индикатора прогресса  
В центре объекта располагается текстовая надпись, содержащая числовое представление степени завершенности процесса.  
Текст надписи формируется из значения параметра *value* и единиц измерения *units*.  
>
*font* - шрифт надписи.  
*text_color* - цвет надписи.  
*text_border_width* - толщина границ текста надписи.  
*text_border_color* - цвет границ текста надписи.  
*units* - единицы измерения.  

### Флаги объекта
>
*visible* - видимость. Значение *true* обеспечивает видимость объекта.  
*dots_visible* - видимость точек индикатора прогресса.  
*in_progress* - в процессе. Флаг принимает значение *true* в процессе анимации.  

##<a id="methods"></a>Методы

> *build()* - выполняет основные вычисления формы и внешнего вида объекта с учетом заданных свойств и флагов.
Этот метод необходимо вызывать после изменения свойств объекта, чтобы они вступили в силу.  

> *draw()* - функция отрисовки объекта.  

> *instanceCopy()* - создание независимой копии объекта.  

> *valueToActiveIndex(value)* - функция вычисления активного индекса индикатора прогресса в зависимости от текущего значения завершенности процесса.  

> *changeValue(value, speed, delay)* - анимация изменения текущего значения завершенности процесса на *value* со скоростью *speed* и задержкой *delay*.  

##<a id="events"></a> События

События, запускаемые объектом SegmentDotsArrayProgressBar, реализованы с помощью CustomEvent.  
В поле *detail.progress_bar* передается ссылка на сам объект.  

> *segment-dots-array-progress-bar-changed* - состояние объекта изменено.  

***

<a href="../../readme.ru.html">Главная</a> → Индикатор прогресса в виде сегментного массива точек